globalcanvas=null;global_last_text_height=0;function SETCANVAS(a){globalcanvas=document.getElementById(a).getContext("2d")}function SETFONT(a,b){str=a+"pt "+b;global_last_text_height=1.5*a;globalcanvas.font=str}function TEXT(a,b,c){globalcanvas.fillText(c,a,b)}function LINE(a,b,c,d){globalcanvas.beginPath();globalcanvas.moveTo(a,b);globalcanvas.lineTo(c,d);globalcanvas.stroke()}function FILLRECT(a,b,c,d){globalcanvas.fillRect(a,b,c,d)}function RECT(a,b,c,d){globalcanvas.strokeRect(a,b,c,d)}
function CLEARRECT(a,b,c,d){globalcanvas.clearRect(a,b,c,d)}function CIRCLE(a,b,c){globalcanvas.beginPath();globalcanvas.arc(a,b,c,0,2*Math.PI,!1);globalcanvas.stroke()}function FILLCIRCLE(a,b,c){globalcanvas.beginPath();globalcanvas.arc(a,b,c,0,2*Math.PI,!1);globalcanvas.fill()}function COLOR(a){globalcanvas.fillStyle=a}function STROKE(a){globalcanvas.strokeStyle=a}function LOADIMAGE(a){var b=new Image;b.src=a;return b}
function IMAGE(a,b,c,d,f){var e=0;void 0===d&&(e=1);void 0===f&&(e=1);a.complete?(1===e&&globalcanvas.drawImage(a,b,c),0===e&&globalcanvas.drawImage(a,b,c,d,f)):a.onload=function(){1===e&&globalcanvas.drawImage(a,b,c);0===e&&globalcanvas.drawImage(a,b,c,d,f)}}function IMAGEWIDTH(a){return a.width}function IMAGEHEIGHT(a){return a.height}function CHECKIMAGE(a){return void 0==a||!a.complete||"undefined"!=typeof a.naturalWidth&&0==a.naturalWidth?!1:!0}
function GETIMAGEDATA(a,b,c,d){return globalcanvas.getImageData(a,b,c,d)}function PUTIMAGEDATA(a,b,c){return globalcanvas.putImageData(a,b,c)}function SLICEDIMAGE(a,b,c,d,f,e,g,h,k){a.complete?globalcanvas.drawImage(a,b,c,d,f,e,g,h,k):a.onload=function(){globalcanvas.drawImage(a,b,c,d,f,e,g,h,k)}}function GLOBALALPHA(a){globalcanvas.globalAlpha=a}function RGB(a,b,c){return"rgb("+a+","+b+","+c+")"}function RGBA(a,b,c,d){return"rgba("+a+","+b+","+c+","+d+")"}
function SETSMOOTHING(a){globalcanvas.imageSmoothingEnabled=a};
